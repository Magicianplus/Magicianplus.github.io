---
layout : post
title: "第4章 存储器与寄存器"
category: STM32
---

<center><font face = "仿宋" size = 6 color = orange>第4章 存储器与寄存器</font></center>

### 一、存储器映射
1. 存储器是不具备地址信息的，地址是由芯片厂商和用户进行分配，给存储器分配地址的过程称为**存储器映射**，再分配一个地址就叫**重映射**。
2. **STM32芯片存储器映射图**

[![pAwuilt.png](https://s21.ax1x.com/2024/10/24/pAwuilt.png)](https://imgse.com/i/pAwuilt)
- 从图中可以看出ARM将4GB分为了8块，block0——block7，每一块512Mb
- 其中block0：包含了STM32芯片内部的Flash。这一块内存主要用来设计芯片的Flash，ZET6为512K的Flash，要集成更大的Flash和SRAM，意味着芯片的成本就要增加，所以往往片内集成的Flash不会太大
- block1：包含SRAM（64KB）
- block2：包含了STM32的一些片内外设资源
1. **存储器区域划分**

[![pAwuG0U.png](https://s21.ax1x.com/2024/10/24/pAwuG0U.png)](https://imgse.com/i/pAwuG0U)

### 二、寄存器和寄存器映射
1. 存储器内部4个字节为1个单元，每个单元对应不同的功能，当我们要控制对应的单元的时候，就要控制对应的外设，每一个单元还对应一个地址，操作这些单元就是要对这些地址进行访问
2. 由于STM32的外设非常多，而且复杂，如果每操作一个外设，就要写一大串对应的存储单元的地址，非常麻烦，容易写错。
3. 因此，我们把每个单元的功能作为名，给这个内存取一个别名，这个别名就是我们经常说的**寄存器**。通过C语言指针操作这个寄存器，就可以实现访问它的内容。
4. **寄存器映射：**给已经分配好地址的有特定功能的内存单元取别名的过程就叫寄存器映射。

### 三、如何访问STM32寄存器内容